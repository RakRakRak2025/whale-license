<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ - ë‚˜ë§Œì˜ íŠ¹ë³„í•œ ê³ ë˜ë©´í—ˆì¦ì„ ë°œê¸‰ë°›ìœ¼ì„¸ìš”!</title>

<!-- â”€â”€â”€â”€â”€ SEO Â· OG ë©”íƒ€ â”€â”€â”€â”€â”€ -->
<meta name="description" content="ìš¸ì‚°ì˜ ëª…ë¬¼ ê³ ë˜ë©´í—ˆì¦ì„ ë””ì§€í„¸ë¡œ! ì§€ê¸ˆ ë°”ë¡œ ë°œê¸‰ë°›ê³  ê³ ë˜íŒ¨ìŠ¤ í˜œíƒë„ ë°›ì•„ë³´ì„¸ìš”. ë¬´ë£Œ ë°œê¸‰, ì¦‰ì‹œ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥">
<meta name="keywords" content="ìš¸ì‚°, ê³ ë˜ë©´í—ˆì¦, ìš¸ì‚°ê³ ë˜, ê³ ë˜íŒ¨ìŠ¤, ìš¸ì‚°ê´€ê´‘, ê³ ë˜ì¶•ì œ, ë””ì§€í„¸ë©´í—ˆì¦">
<meta property="og:type" content="website">
<meta property="og:title" content="ğŸ‹ ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ - ì§€ê¸ˆ ë°”ë¡œ ë°œê¸‰ë°›ìœ¼ì„¸ìš”!">
<meta property="og:description" content="ë‚˜ë§Œì˜ íŠ¹ë³„í•œ ê³ ë˜ë©´í—ˆì¦ì„ ë§Œë“¤ê³ , ê³ ë˜íŒ¨ìŠ¤ í˜œíƒë„ ë°›ì•„ê°€ì„¸ìš”! ì„ ì°©ìˆœ ì´ë²¤íŠ¸ ì§„í–‰ì¤‘">
<meta property="og:image" content="https://via.placeholder.com/1200x630/667eea/ffffff?text=ìš¸ì‚°+ê³ ë˜ë©´í—ˆì¦">
<meta property="og:url" content="https://rakrakrak2025.github.io/whale-license/">
<meta property="og:site_name" content="ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='.9em' font-size='90'>ğŸ‹</text></svg>">

<style>
/* reset */
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Pretendard',-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;padding:20px;display:flex;align-items:center;justify-content:center}
.main-container{width:100%;max-width:1200px;display:flex;gap:30px;align-items:start}

/* ì…ë ¥ í¼ */
.form-section{flex:1;background:#fff;border-radius:20px;padding:30px;box-shadow:0 20px 40px rgba(0,0,0,.1)}
.form-header{text-align:center;margin-bottom:30px}
.form-header h1{color:#333;font-size:24px;margin-bottom:10px}
.form-header .whale-emoji{font-size:50px;margin-bottom:10px;animation:bounce 2s ease-in-out infinite}
@keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}
.form-group{margin-bottom:20px}
label{display:block;font-weight:600;color:#555;margin-bottom:8px;font-size:14px}
input,select{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:10px;font-size:16px;transition:.3s}
input:focus,select:focus{outline:none;border-color:#667eea;box-shadow:0 0 0 3px rgba(102,126,234,.1)}

/* ì•„ë°”íƒ€ */
.avatar-selection{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;justify-items:center;margin-top:10px}
.avatar-option{width:60px;height:60px;border:3px solid #e0e0e0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:30px;cursor:pointer;transition:.3s;background:#f5f5f5}
.avatar-option:hover{transform:scale(1.1);border-color:#667eea}
.avatar-option.selected{border-color:#667eea;background:#e6e9ff;box-shadow:0 0 0 3px rgba(102,126,234,.2)}

/* ë©´í—ˆì¦ */
.license-section{flex:1;perspective:1000px}
.license-card{background:#fff;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.2);overflow:hidden;transform:rotateY(-5deg);transition:.3s;margin:0 auto;max-width:400px}
.license-card:hover{transform:rotateY(0)}
.license-header{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%);color:#fff;padding:25px;text-align:center;position:relative;overflow:hidden}
.license-header::before{content:'';position:absolute;inset:0;background:linear-gradient(105deg,transparent 40%,rgba(255,255,255,.1) 50%,transparent 60%);animation:shimmer 3s infinite}
.license-header::after{content:'';position:absolute;inset:0;background-image:radial-gradient(circle at 50% 50%,transparent 30%,rgba(255,255,255,.02) 70%,transparent 71%);background-size:30px 30px;opacity:.5}
@keyframes shimmer{0%{transform:translateX(-100%)}100%{transform:translateX(100%)}}
.license-logo{font-size:40px;margin-bottom:10px;position:relative;z-index:1;filter:drop-shadow(0 0 10px rgba(255,255,255,.5));animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-5px)}}
.license-title{font-size:24px;font-weight:700;margin-bottom:8px;position:relative;z-index:1;text-shadow:0 0 20px rgba(255,255,255,.5),0 2px 4px rgba(0,0,0,.3);letter-spacing:1px}
.license-subtitle{font-size:13px;opacity:.95;position:relative;z-index:1;letter-spacing:3px;font-weight:500;text-transform:uppercase;text-shadow:0 1px 2px rgba(0,0,0,.2)}

.license-body{padding:30px;position:relative}
.license-info{display:flex;gap:25px;margin-bottom:25px}
.avatar-display{width:100px;height:100px;background:#f0f0f0;border-radius:15px;display:flex;align-items:center;justify-content:center;font-size:60px;box-shadow:0 4px 15px rgba(0,0,0,.1);position:relative;overflow:hidden}
.avatar-display::after{content:'ULSAN';position:absolute;bottom:5px;right:5px;font-size:10px;background:rgba(255,255,255,.9);padding:2px 6px;border-radius:4px;color:#2a5298;font-weight:600}
.info-details{flex:1}
.info-row{display:flex;align-items:baseline;margin-bottom:12px}
.info-label{font-size:12px;color:#666;min-width:70px;font-weight:500}
.info-value{font-size:16px;color:#222;font-weight:600;flex:1}
.info-value.name{font-size:20px;color:#1e3c72;font-weight:700}

.additional-info{display:grid;grid-template-columns:repeat(2,1fr);gap:15px;padding:20px 0;border-top:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0}
.info-item{text-align:center;background:#f8f9fa;padding:12px;border-radius:10px}
.info-item-label{font-size:11px;color:#666;margin-bottom:5px}
.info-item-value{font-size:14px;font-weight:700;color:#2a5298}

.license-number{text-align:center;margin-top:20px;font-size:18px;font-family:'Courier New',monospace;letter-spacing:2px;color:#1e3c72;font-weight:700}
#barcodeSvg{display:block;margin:15px auto}

/* í™€ë¡œê·¸ë¨ íš¨ê³¼ */
.hologram{position:absolute;bottom:20px;left:20px;width:60px;height:60px;background:linear-gradient(135deg,rgba(255,255,255,.15),rgba(255,255,255,.05));border-radius:50%;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);display:flex;align-items:center;justify-content:center;box-shadow:0 8px 32px rgba(31,38,135,.15),inset 0 0 20px rgba(255,255,255,.1)}
.hologram::before{content:'ğŸ‹';font-size:30px;opacity:.8;filter:drop-shadow(0 0 3px rgba(255,255,255,.5))}

.download-section{text-align:center;margin-top:20px}
.btn-download{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;padding:15px 40px;border:none;border-radius:30px;font-size:16px;font-weight:600;cursor:pointer;transition:.3s;box-shadow:0 4px 15px rgba(102,126,234,.3)}
.btn-download:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(102,126,234,.4)}
.btn-download:active{transform:translateY(0)}

/* í”Œë¡œíŒ… & ê´€ë¦¬ì */
.floating-buttons{position:fixed;bottom:20px;right:20px;display:flex;flex-direction:column;gap:10px;z-index:1000}
.float-btn{width:60px;height:60px;border-radius:50%;border:none;font-size:24px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px rgba(0,0,0,.2);transition:.3s}
.float-btn:hover{transform:scale(1.1)}
.float-btn.coupon{background:linear-gradient(135deg,#f093fb 0%,#f5576c 100%);color:#fff}
.float-btn.share{background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);color:#fff}
.float-btn.admin{background:#2c3e50;color:#fff;font-size:20px}

.admin-panel{display:none;position:fixed;top:0;right:0;width:320px;height:100vh;background:#fff;box-shadow:-5px 0 20px rgba(0,0,0,.1);z-index:1100;overflow-y:auto;animation:slideIn .3s ease-out}
@keyframes slideIn{from{transform:translateX(100%)}to{transform:translateX(0)}}
.admin-header{background:#2c3e50;color:#fff;padding:20px;display:flex;justify-content:space-between;align-items:center}
.admin-header h3{margin:0;font-size:18px;font-weight:700}
.admin-header button{background:none;border:none;color:#fff;font-size:24px;cursor:pointer}
.admin-content{padding:20px}
.stat-card{background:#f8f9fa;padding:20px;border-radius:10px;margin-bottom:15px}
.stat-label{font-size:14px;color:#666;margin-bottom:5px}
.stat-value{font-size:32px;font-weight:700;color:#2a5298}
.admin-btn{width:100%;padding:12px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:.3s;margin-bottom:10px}
.admin-btn.danger{background:#dc3545;color:#fff}
.admin-btn.danger:hover{background:#c82333}
.admin-btn.success{background:#28a745;color:#fff}
.admin-btn.success:hover{background:#218838}

/* ë°˜ì‘í˜• */
@media(max-width:768px){
  .main-container{flex-direction:column}
  .avatar-selection{grid-template-columns:repeat(4,1fr)}
  .license-card{transform:none}
}
</style>

<script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.5/dist/JsBarcode.all.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>
<div class="main-container">
  <div class="form-section">
    <div class="form-header">
      <div class="whale-emoji">ğŸ‹</div>
      <h1>ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ ì¦‰ì‹œë°œê¸‰</h1>
      <p style="color:#666;">ì •ë³´ë¥¼ ì…ë ¥í•˜ë©´ ì‹¤ì‹œê°„ìœ¼ë¡œ ë©´í—ˆì¦ì´ ìƒì„±ë©ë‹ˆë‹¤</p>
    </div>

    <div class="form-group">
      <label for="name">ì´ë¦„</label>
      <input type="text" id="name" placeholder="í™ê¸¸ë™" oninput="updateLicense()">
    </div>
    <div class="form-group">
      <label for="birthdate">ìƒë…„ì›”ì¼</label>
      <input type="date" id="birthdate" onchange="updateLicense()">
    </div>
    <div class="form-group">
      <label for="whaleType">ê³ ë˜ ì¢…ë¥˜</label>
      <select id="whaleType" onchange="updateLicense()">
        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
        <option value="ê·€ì‹ ê³ ë˜">ê·€ì‹ ê³ ë˜</option>
        <option value="í˜¹ë“±ê³ ë˜">í˜¹ë“±ê³ ë˜</option>
        <option value="ë°í¬ê³ ë˜">ë°í¬ê³ ë˜</option>
        <option value="ë²”ê³ ë˜">ë²”ê³ ë˜</option>
        <option value="ëŒ€ì™•ê³ ë˜">ëŒ€ì™•ê³ ë˜</option>
      </select>
    </div>
    <div class="form-group">
      <label for="experience">ê³ ë˜ ìš´ì „ ëª©ì </label>
      <select id="experience" onchange="updateLicense()">
        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
        <option value="ì¶œí‡´ê·¼ìš©">ì¶œí‡´ê·¼ìš© ğŸ¢</option>
        <option value="í­ì£¼ìš©">í­ì£¼ìš© ğŸ</option>
        <option value="ë°ì´íŠ¸ìš©">ë°ì´íŠ¸ìš© ğŸ’•</option>
        <option value="ê´€ê´‘ìš©">ê´€ê´‘ìš© ğŸ“¸</option>
        <option value="ë°°ë‹¬ìš©">ë°°ë‹¬ìš© ğŸ›µ</option>
        <option value="ì£¼ì°¨ì „ë¬¸">ì£¼ì°¨ì „ë¬¸ ğŸ…¿ï¸</option>
        <option value="ì´ˆë³´ìš´ì „">ì´ˆë³´ìš´ì „ ğŸ”°</option>
        <option value="í”„ë¡œë ˆì´ì„œ">í”„ë¡œë ˆì´ì„œ ğŸ†</option>
        <option value="ì¼ìš”ì¼ìš´ì „">ì¼ìš”ì¼ìš´ì „ ğŸ˜´</option>
        <option value="ë°”ë‹¤íš¡ë‹¨">ë°”ë‹¤íš¡ë‹¨ ğŸŒŠ</option>
      </select>
    </div>

    <div class="form-group">
      <label>ê³ ë˜ í”„ë¡œí•„ ì„ íƒ</label>
      <div class="avatar-selection">
        <div class="avatar-option selected" onclick="selectAvatar('ğŸ‹',this)">ğŸ‹</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ³',this)">ğŸ³</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ¬',this)">ğŸ¬</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ¦ˆ',this)">ğŸ¦ˆ</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸŒŠ',this)">ğŸŒŠ</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ’™',this)">ğŸ’™</div>
        <div class="avatar-option" onclick="selectAvatar('âœ¨',this)">âœ¨</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸŒ™',this)">ğŸŒ™</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ”¥',this)">ğŸ”¥</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ',this)">ğŸ</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸ¸',this)">ğŸ¸</div>
        <div class="avatar-option" onclick="selectAvatar('ğŸš€',this)">ğŸš€</div>
      </div>
    </div>
  </div>

  <div class="license-section">
    <div class="license-card">
      <div class="license-header">
        <div class="license-logo">ğŸ‹</div>
        <div class="license-title">ìš¸ì‚°ê´‘ì—­ì‹œ ê³ ë˜ë©´í—ˆì¦</div>
        <div class="license-subtitle">ULSAN WHALE LICENSE</div>
      </div>

      <div class="license-body">
        <div class="license-info">
          <div class="avatar-display" id="avatarDisplay">ğŸ‹</div>
          <div class="info-details">
            <div class="info-row"><span class="info-label">ì„±ëª…</span><span class="info-value name" id="displayName">-</span></div>
            <div class="info-row"><span class="info-label">ìƒë…„ì›”ì¼</span><span class="info-value" id="displayBirth">-</span></div>
            <div class="info-row"><span class="info-label">ê³ ë˜ì¢…ë¥˜</span><span class="info-value" id="displayWhale">-</span></div>
            <div class="info-row"><span class="info-label">ìš´ì „ëª©ì </span><span class="info-value" id="displayGrade">-</span></div>
          </div>
        </div>

        <div class="additional-info">
          <div class="info-item"><div class="info-item-label">ë°œê¸‰ì¼ì</div><div class="info-item-value" id="issueDate">-</div></div>
          <div class="info-item"><div class="info-item-label">ìœ íš¨ê¸°ê°„</div><div class="info-item-value" id="expiryDate">-</div></div>
          <div class="info-item"><div class="info-item-label">ë°œê¸‰ê¸°ê´€</div><div class="info-item-value">ìš¸ì‚°ê´‘ì—­ì‹œ</div></div>
          <div class="info-item"><div class="info-item-label">ìš©ë„</div><div class="info-item-value">ê³ ë˜ ê´€ì°°</div></div>
        </div>

        <div class="license-number" id="licenseNumber">UW-2024-000000</div>
        <svg id="barcodeSvg"></svg>
        <div class="hologram"></div>
      </div>
    </div>

    <div class="download-section">
      <button class="btn-download" onclick="downloadLicense()">ğŸ“¥ ë©´í—ˆì¦ ë‹¤ìš´ë¡œë“œ</button>
    </div>
  </div>
</div>

<div class="floating-buttons">
  <button class="float-btn coupon" onclick="showCoupon()">ğŸ</button>
  <button class="float-btn share" onclick="shareToSNS()">ğŸ“±</button>
  <button class="float-btn admin" onclick="toggleAdmin()">âš™ï¸</button>
</div>

<div class="admin-panel" id="adminPanel">
  <div class="admin-header">
    <h3>ğŸ‹ ê´€ë¦¬ì ëª¨ë“œ</h3>
    <button onclick="toggleAdmin()">Ã—</button>
  </div>
  <div class="admin-content">
    <div class="stat-card"><div class="stat-label">ì˜¤ëŠ˜ ë°œê¸‰ ìˆ˜</div><div class="stat-value" id="todayCount">0</div></div>
    <div class="stat-card"><div class="stat-label">ì „ì²´ ë°œê¸‰ ìˆ˜</div><div class="stat-value" id="totalCount">0</div></div>
    <div class="stat-card"><div class="stat-label">ì¸ê¸° ê³ ë˜</div><div class="stat-value" id="popularWhale">-</div></div>
    <button class="admin-btn danger" onclick="resetStats()">ğŸ”„ í†µê³„ ì´ˆê¸°í™”</button>
    <button class="admin-btn success" onclick="exportStats()">ğŸ“Š í†µê³„ ë‚´ë³´ë‚´ê¸°</button>
  </div>
</div>

<script>
let selectedAvatar = 'ğŸ‹';
let licenseNum = generateLicenseNumber();
let stats = {
    total: parseInt(localStorage.getItem('totalLicenses') || '0'),
    today: parseInt(localStorage.getItem('todayLicenses') || '0'),
    lastDate: localStorage.getItem('lastDate') || new Date().toDateString()
};

window.addEventListener('DOMContentLoaded', () => {
    updateLicense();
    JsBarcode('#barcodeSvg', licenseNum, {format: 'CODE128', width: 2, height: 40, displayValue: false});
    document.getElementById('issueDate').textContent = formatDate(new Date());
    document.getElementById('expiryDate').textContent = formatDate(getExpiryDate());
    document.getElementById('licenseNumber').textContent = licenseNum;
    checkDate();
    updateStatsDisplay();
});

function selectAvatar(avatar, el) {
    selectedAvatar = avatar;
    document.querySelectorAll('.avatar-option').forEach(o => o.classList.remove('selected'));
    el.classList.add('selected');
    updateLicense();
}

function updateLicense() {
    const name = document.getElementById('name').value.trim() || '-';
    const birth = document.getElementById('birthdate').value;
    const whale = document.getElementById('whaleType').value || '-';
    const exp = document.getElementById('experience').value || '-';
    
    document.getElementById('displayName').textContent = name;
    document.getElementById('displayBirth').textContent = birth ? formatDate(birth) : '-';
    document.getElementById('displayWhale').textContent = whale;
    document.getElementById('displayGrade').textContent = exp.split(' ')[0];
    document.getElementById('avatarDisplay').textContent = selectedAvatar;
}

function generateLicenseNumber() {
    const y = new Date().getFullYear();
    const r = Math.floor(Math.random() * 1e6).toString().padStart(6, '0');
    return `UW-${y}-${r}`;
}

function formatDate(d) {
    const dt = new Date(d);
    const m = String(dt.getMonth() + 1).padStart(2, '0');
    const day = String(dt.getDate()).padStart(2, '0');
    return `${dt.getFullYear()}.${m}.${day}`;
}

function getExpiryDate() {
    const dt = new Date();
    return new Date(dt.getFullYear() + 5, dt.getMonth(), dt.getDate());
}

function checkDate() {
    const today = new Date().toDateString();
    if (stats.lastDate !== today) {
        stats.today = 0;
        stats.lastDate = today;
        localStorage.setItem('todayLicenses', '0');
        localStorage.setItem('lastDate', today);
    }
}

function incrementLicense() {
    checkDate();
    stats.total++;
    stats.today++;
    localStorage.setItem('totalLicenses', stats.total.toString());
    localStorage.setItem('todayLicenses', stats.today.toString());
    updateStatsDisplay();
}

function updateStatsDisplay() {
    const totalElement = document.getElementById('totalCount');
    const todayElement = document.getElementById('todayCount');
    if (totalElement) totalElement.textContent = stats.total;
    if (todayElement) todayElement.textContent = stats.today;
}

function downloadLicense() {
    incrementLicense();
    html2canvas(document.querySelector('.license-card'), {backgroundColor: '#fff', scale: 2, logging: false, useCORS: true}).then(cv => {
        cv.toBlob(b => {
            const u = URL.createObjectURL(b);
            const a = document.createElement('a');
            a.href = u;
            a.download = `ìš¸ì‚°ê³ ë˜ë©´í—ˆì¦_${document.getElementById('displayName').textContent}_${licenseNum}.png`;
            a.click();
            URL.revokeObjectURL(u);
            alert(`ğŸ‹ ê³ ë˜ë©´í—ˆì¦ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!\n\në°œê¸‰ ì™„ë£Œ! ì´ ${stats.total}ë²ˆì§¸ ë©´í—ˆì¦ì…ë‹ˆë‹¤.`);
        });
    });
}

function showCoupon() {
    alert('ğŸ ê³ ë˜íŒ¨ìŠ¤ ì¿ í° ì´ë²¤íŠ¸ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤!\n\nìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ì„ SNSì— ê³µìœ í•˜ê³ \níŠ¹ë³„ í˜œíƒì„ ë°›ì•„ë³´ì„¸ìš”!');
}

function shareToSNS() {
    const name = document.getElementById('displayName').textContent;
    const whaleType = document.getElementById('displayWhale').textContent;
    const shareText = `ğŸ‹ ë‚˜ë„ ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ ë°œê¸‰ ì™„ë£Œ!\nì„±ëª…: ${name}\nê³ ë˜ì¢…ë¥˜: ${whaleType}\nì§€ê¸ˆ ë°”ë¡œ ë°œê¸‰ë°›ê¸° ğŸ‘‡`;
    const shareUrl = window.location.href;
    
    if (navigator.share) {
        navigator.share({title: 'ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦', text: shareText, url: shareUrl}).catch(err => console.log('ê³µìœ  ì·¨ì†Œ'));
    } else {
        const fullText = `${shareText}\n${shareUrl}`;
        navigator.clipboard.writeText(fullText).then(() => {
            alert('ğŸ“± ê³µìœ  í…ìŠ¤íŠ¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.');
        }).catch(() => {
            prompt('ë‹¤ìŒ í…ìŠ¤íŠ¸ë¥¼ ë³µì‚¬í•´ì„œ SNSì— ê³µìœ í•´ì£¼ì„¸ìš”:', fullText);
        });
    }
}

function toggleAdmin() {
    const p = document.getElementById('adminPanel');
    const isVisible = p.style.display === 'block';
    
    if (!isVisible) {
        const password = prompt('ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:');
        if (password !== '1633') {
            alert('ë¹„ë°€ë²ˆí˜¸ê°€ í‹€ë ¸ìŠµë‹ˆë‹¤.');
            return;
        }
    }
    
    p.style.display = isVisible ? 'none' : 'block';
    updateStatsDisplay();
}

function resetStats() {
    if (confirm('ì •ë§ë¡œ ëª¨ë“  í†µê³„ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        stats.total = 0;
        stats.today = 0;
        localStorage.setItem('totalLicenses', '0');
        localStorage.setItem('todayLicenses', '0');
        updateStatsDisplay();
        alert('í†µê³„ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
}

function exportStats() {
    const data = `ìš¸ì‚° ê³ ë˜ë©´í—ˆì¦ í†µê³„\nìƒì„±ì¼: ${new Date().toLocaleString()}\nì „ì²´ ë°œê¸‰: ${stats.total}ê±´\nì˜¤ëŠ˜ ë°œê¸‰: ${stats.today}ê±´`;
    const blob = new Blob([data], {type: 'text/plain'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `ê³ ë˜ë©´í—ˆì¦_í†µê³„_${new Date().toLocaleDateString()}.txt`;
    a.click();
    URL.revokeObjectURL(url);
}
</script>
</body>
</html>
